
<div class="fixed inset-0 z-50 flex items-center w-full justify-center bg-slate-900/90 backdrop-blur-md animate-fade-in">
@if(isLoading())
{
  <app-spinner />
}
@else
{
  <div class="w-full max-w-2xl bg-slate-800 rounded-2xl shadow-2xl border border-slate-600 overflow-hidden">
    <div class=" relative flex w-full  text-center h-32  ">
      <div class="absolute flex inset-0 flex-col justify-center items-center pt-10 mt-5">
        <h2
          class="text-4xl  absolute inset-0 font-black text-white italic tracking-widest uppercase drop-shadow-lg w-full ">
          Game Over
        </h2>
        <p class="text-white/80 mt-2 font-medium absolute">Final Standings</p>
      </div>
      <div class="bg-red-600 flex-1  "></div>
      <div class="bg-blue-600 flex-1"></div>
      <div class="bg-green-600 flex-1"></div>
      <div class="bg-yellow-600 flex-1"></div>
    </div>

    <div class="p-6 flex flex-col gap-3">
    @for (player of leaderboardData(); track player.id; let i = $index) {
    <div class="flex items-center justify-between p-4 rounded-xl transition-transform hover:scale-110" [ngClass]="{'bg-yellow-500/20 border-2 border-yellow-400': i === 0, 
                  'bg-slate-700/50 border border-slate-600': i !== 0}">
      <div class="flex items-center gap-4">
     <div class="w-10 h-10 flex items-center justify-center rounded-full font-black text-xl shadow-inner"
            [ngClass]="i === 0 ? 'bg-yellow-400 text-yellow-900' : 'bg-slate-600 text-slate-300'">
         #{{ i + 1 }}
          </div>

          <div class="flex items-center gap-3">

            <img [src]="'assets/avatars/p' + player.avatarId+'.png'" class="w-12 h-12 rounded-full bg-slate-200">

            <div>

              <h3 class="text-white font-bold text-lg leading-none">{{ player.Username }}</h3>

              @if (i === 0) {

              <span class="text-xs font-bold text-yellow-400 uppercase tracking-wider">Winner!</span>

              }

            </div>

          </div>

        </div>

        <div class="text-right">

          <div class="text-3xl font-black text-white">{{ player.score }}</div>

          <div class="text-xs text-slate-400 uppercase font-bold">Points</div>

        </div>

      </div>

      }

    </div>

    <div class="p-6 bg-slate-900/50 border-t border-slate-700 flex justify-center gap-4">

      <button (click)="exitGame()"
        class="px-8 py-3 rounded-full font-bold text-slate-300 hover:bg-slate-700 transition-colors">

        Exit to Lobby

      </button>

    </div>

  </div>
}
</div>